package com.snoopdogg.divination;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.util.LinkedList;

import org.powerbot.event.PaintListener;
import org.powerbot.script.Manifest;
import org.powerbot.script.PollingScript;
import org.powerbot.script.methods.Mouse;
import org.powerbot.script.util.Random;

import com.snoopdogg.util.Task;

@Manifest(authors = "Snoop Dogg", name = "Diva", description = "Stuff", version = 1.0)

public class Main extends PollingScript implements PaintListener {
	
	private LinkedList<Task> task = new LinkedList<Task>();
	
	@Override
	public void start() {
		task.add(new HarvestPale(ctx));
		task.add(new DumpMemories(ctx));
	}

	@Override
	public int poll() {
		for(Task t:task) {
			if(t.activate()) {
				t.execute();
			}
		}
		return Random.nextGaussian(100,250,1.2);
	}

	@Override
	public void repaint(Graphics arg0) {
		Graphics2D g = (Graphics2D) arg0;
		g.setColor(Color.WHITE);
		g.drawPolygon(ctx.players.local().getLocation().getMatrix(ctx).getBounds());
		g.setColor(Color.BLUE);
		ctx.players.local().getInteracting().getModel().drawWireFrame(arg0);
	}

}
